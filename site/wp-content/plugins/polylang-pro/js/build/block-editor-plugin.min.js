(()=>{var t={991:t=>{t.exports=function(){return this.lodash}()},514:t=>{t.exports=function(){return this.wp.apiFetch}()},15:t=>{t.exports=function(){return this.wp.data}()},470:t=>{t.exports=function(){return this.wp.url}()}},e={};function n(r){var a=e[r];if(void 0!==a)return a.exports;var i=e[r]={exports:{}};return t[r](i,i.exports,n),i.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var r={};(()=>{"use strict";n.r(r);var t=n(514),e=n.n(t),a=n(15),i=n(991),s=n(470);const o="pll/metabox",d="core/editor",l="core/edit-site",p="core";function u(){const t=(0,a.select)(o).getLanguages();return Array.from(t.values()).find((t=>t.is_default_lang))}function c(t){t.path=(0,s.addQueryArgs)(t.path,{is_block_editor:!0})}function g(t,e){const n=(0,s.hasQueryArg)(t.path,"lang");((0,i.isUndefined)(t.filterLang)||t.filterLang)&&!n&&(t.path=(0,s.addQueryArgs)(t.path,{lang:e}))}function f(t){const e=new URL(document.location).searchParams,n=e.get("postType"),r=e.get("postId"),o=(0,a.select)("core/edit-post")?.isEditingTemplate();("wp_template_part"===n&&!(0,i.isNil)(r)||o)&&function(t){t.path=(0,s.addQueryArgs)(t.path,{include_untranslated:!0})}(t)}function y(){return document.getElementById("site-editor")||document.getElementById("edit-site-editor")?(0,a.select)(l).getEditedPostType():(0,a.select)(d).getCurrentPostType()}function _(){const t=(0,a.select)(l)?.getEditedPostId(),e=(0,a.select)(l)?.getEditedPostType();return(0,a.select)(p).getEntityRecord("postType",e,t)}function m(){const t=(0,a.select)(d).getEditedPostAttribute("lang");if(!(0,i.isUndefined)(t)&&t)return t;const e=new URL(document.location).searchParams,n=e.get("postType"),r=e.get("postId");if("wp_template_part"===n&&(0,i.isNil)(r))return pll_block_editor_plugin_settings.lang=u(),pll_block_editor_plugin_settings.lang.slug;const s=_(),o=s?.lang;return!(0,i.isUndefined)(o)&&o?o:pll_block_editor_plugin_settings.lang.slug}e().use(((t,e)=>{if(!(0,i.isUndefined)(t.url))return e(t);const n=m();if(function(t){return!(0,i.isNil)(t.data)}(t))return c(t),function(t){return"POST"===t.method&&t.path.match(/^\/wp\/v2\/template-parts(?:\/|\?|$)/)&&(0,i.isNil)(t.data.from_post)&&(0,i.isNil)(t.data.lang)}(t)&&g(t,u()?.slug),function(t){const e=(0,i.map)((0,a.select)("core").getEntitiesByKind("postType"),(0,i.property)("baseURL")),n=(0,a.select)("core/editor").getCurrentPostId(),r=t.data.id;return-1!==e.findIndex((function(e){return new RegExp(`${(0,i.escapeRegExp)(e)}`).test(t.path)}))&&n===r}(t)||function(t){return"POST"===t.method&&t.path.match(/^\/wp\/v2\/template-parts(?:\/|\?|$)/)&&!(0,i.isNil)(t.data.from_post)&&!(0,i.isNil)(t.data.lang)}(t)||g(t,n),function(t,e){const n=function(t){const e=(0,a.select)("core").getEntitiesByKind("postType"),n=(0,i.find)(e,{name:t});return n?.baseURL}("wp_template_part");if((0,i.isUndefined)(n))return;const r=new RegExp((0,i.escapeRegExp)(n));if("POST"==t.method&&r.test(t.path)){if(!(0,a.select)(o).getLanguages().get(e).is_default_lang){const n="___"+e;t.data.slug+=n}}}(t,n),e(t);"wp_template"===y()&&g(t,u()?.slug);return new RegExp(/^\/wp\/v2\/template-parts\/?(?:\?.*)?$/).test(t.path)&&f(t),g(t,n),c(t),e(t)})),"undefined"!=typeof jQuery&&jQuery((function(t){t.ajaxPrefilter((function(t,e,n){if(-1!=t.url.indexOf(ajaxurl)||-1!=ajaxurl.indexOf(t.url)){const r=m(),a={lang:r};function i(){const e="lang="+r;if(void 0===t.data||""===t.data.trim())t.data=e;else try{t.data=JSON.stringify(Object.assign(JSON.parse(t.data),a))}catch(n){t.data=t.data+"&"+e}}t.processData||void 0===t.data||"string"==typeof t.data?i():t.data=Object.assign(t.data||{},a)}}))}))})(),this["polylang-pro"]=r})();